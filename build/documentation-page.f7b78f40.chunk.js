"use strict";(self.webpackChunkssa_reseller=self.webpackChunkssa_reseller||[]).push([[9789],{75730:(C,u,t)=>{t.r(u),t.d(u,{default:()=>S});var e=t(53547),s=t(45349),g=t(26789),h=t(50781),y=t(57713),p=t(79371),r=t(19442),v=t(51541),M=t(42403),O=t(6090),P=t(62351),D=t(78549),a=t(94487),l=t(75878),d=t(37527),n=t(72178),i=t(2953),f=t(61378),T=t(34263),j=t(64593),o=t(86896),m=t(55671),B=t(93742);const U=E=>{const x=(()=>E.startsWith("/")?`${window.strapi.backendURL}${E}`:E.startsWith("http")?E:`${window.strapi.backendURL}/${E}`)();return window.open(x,"_blank"),window.focus()};var K=t(90306);const S=()=>{(0,n.go)();const{formatMessage:E}=(0,o.Z)(),{data:x,isLoading:W,isError:b,deleteMutation:N,regenerateDocMutation:V}=(0,K.Z)(),[L,R]=(0,e.useState)(!1),[Q,I]=(0,e.useState)(!1),[H,w]=(0,e.useState)(),F=4,z=(x?.docVersions?.length||0)+1,Z=c=>{const A=x?.prefix.startsWith("/")?"":"/";U(`${A}${x?.prefix}/v${c}`)},X=c=>{V.mutate({version:c,prefix:x?.prefix})},G=()=>{R(!L)},Y=async()=>{I(!0),await N.mutateAsync({prefix:x?.prefix,version:H}),R(!L),I(!1)},J=c=>{w(c),R(!L)},$=E({id:(0,B.O)("plugin.name"),defaultMessage:"Documentation"});return b?e.createElement(s.A,null,e.createElement(g.D,null,e.createElement(h.x,{paddingTop:8},e.createElement(n.Hn,null)))):e.createElement(s.A,null,e.createElement(j.q,{title:$}),e.createElement(y.o,{"aria-busy":W},e.createElement(p.T,{title:$,subtitle:E({id:(0,B.O)("pages.PluginPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(n.jW,{permissions:m._.open},e.createElement(r.z,{onClick:()=>Z(x?.currentVersion),startIcon:e.createElement(i.Z,null)},E({id:(0,B.O)("pages.PluginPage.Button.open"),defaultMessage:"Open Documentation"})))}),e.createElement(g.D,null,W&&e.createElement(n.dO,null,"Plugin is loading"),x?.docVersions.length?e.createElement(v.i,{colCount:F,rowCount:z},e.createElement(M.h,null,e.createElement(O.Tr,null,e.createElement(P.Th,null,e.createElement(D.Z,{variant:"sigma",textColor:"neutral600"},E({id:(0,B.O)("pages.PluginPage.table.version"),defaultMessage:"Version"}))),e.createElement(P.Th,null,e.createElement(D.Z,{variant:"sigma",textColor:"neutral600"},E({id:(0,B.O)("pages.PluginPage.table.generated"),defaultMessage:"Last Generated"}))))),e.createElement(a.p,null,x.docVersions.sort((c,A)=>c.generatedDate<A.generatedDate?1:-1).map(c=>e.createElement(O.Tr,{key:c.version},e.createElement(P.Td,{width:"50%"},e.createElement(D.Z,null,c.version)),e.createElement(P.Td,{width:"50%"},e.createElement(D.Z,null,c.generatedDate)),e.createElement(P.Td,null,e.createElement(l.k,{justifyContent:"end",...n.UW},e.createElement(d.h,{onClick:()=>Z(c.version),noBorder:!0,icon:e.createElement(i.Z,null),label:E({id:(0,B.O)("pages.PluginPage.table.icon.show"),defaultMessage:"Open {target}"},{target:`${c.version}`})}),e.createElement(n.jW,{permissions:m._.regenerate},e.createElement(d.h,{onClick:()=>X(c.version),noBorder:!0,icon:e.createElement(f.Z,null),label:E({id:(0,B.O)("pages.PluginPage.table.icon.regenerate"),defaultMessage:"Regenerate {target}"},{target:`${c.version}`})})),e.createElement(n.jW,{permissions:m._.update},c.version!==x.currentVersion&&e.createElement(d.h,{onClick:()=>J(c.version),noBorder:!0,icon:e.createElement(T.Z,null),label:E({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${c.version}`})})))))))):e.createElement(n.x7,null)),e.createElement(n.QH,{isConfirmButtonLoading:Q,onConfirm:Y,onToggleDialog:G,isOpen:L})))}},90306:(C,u,t)=>{t.d(u,{Z:()=>p});var e=t(72178),s=t(88767),g=t(49950),h=t(798);const p=()=>{const r=(0,s.useQueryClient)(),v=(0,e.lm)(),{isLoading:M,isError:O,data:P}=(0,s.useQuery)(["get-documentation",g.Z],async()=>{try{const{data:o}=await d(`/${g.Z}/getInfos`);return o}catch{return v({type:"warning",message:{id:"notification.error"}}),null}}),{del:D,post:a,put:l,get:d}=(0,e.kY)(),n=o=>{v({type:"warning",message:o.response.payload.message})},i=(o,m)=>{r.invalidateQueries("get-documentation"),v({type:o,message:{id:(0,h.Z)(m)}})},f=(0,s.useMutation)(({prefix:o,version:m})=>D(`${o}/deleteDoc/${m}`),{onSuccess:()=>i("info","notification.delete.success"),onError:o=>n(o)}),T=(0,s.useMutation)(({prefix:o,body:m})=>l(`${o}/updateSettings`,m),{onSuccess:()=>i("success","notification.update.success"),onError:n}),j=(0,s.useMutation)(({prefix:o,version:m})=>a(`${o}/regenerateDoc`,{version:m}),{onSuccess:()=>i("info","notification.generate.success"),onError:o=>n(o)});return{data:P,isLoading:M,isError:O,deleteMutation:f,submitMutation:T,regenerateDocMutation:j}}},798:(C,u,t)=>{t.d(u,{Z:()=>g});var e=t(49950);const g=h=>`${e.Z}.${h}`},93742:(C,u,t)=>{t.d(u,{O:()=>e.Z});var e=t(798)},26789:(C,u,t)=>{t.d(u,{D:()=>g});var e=t(2790),s=t(50781);const g=({children:h})=>(0,e.jsx)(s.x,{paddingLeft:10,paddingRight:10,children:h})},79371:(C,u,t)=>{t.d(u,{T:()=>O});var e=t(2790),s=t(53547),g=t(88972);const h=a=>{const l=(0,s.useRef)(null),[d,n]=(0,s.useState)(!0),i=([f])=>{n(f.isIntersecting)};return(0,s.useEffect)(()=>{const f=l.current,T=new IntersectionObserver(i,a);return f&&T.observe(l.current),()=>{f&&T.disconnect()}},[l,a]),[l,d]};var y=t(66300);const p=(a,l)=>{const d=(0,y.W)(l);(0,s.useLayoutEffect)(()=>{const n=new ResizeObserver(d);return Array.isArray(a)?a.forEach(i=>{i.current&&n.observe(i.current)}):a.current&&n.observe(a.current),()=>{n.disconnect()}},[a,d])};var r=t(50781),v=t(75878),M=t(78549);const O=a=>{const l=(0,s.useRef)(null),[d,n]=(0,s.useState)(null),[i,f]=h({root:null,rootMargin:"0px",threshold:0});return p(i,()=>{i.current&&n(i.current.getBoundingClientRect())}),(0,s.useEffect)(()=>{l.current&&n(l.current.getBoundingClientRect())},[l]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:d?.height},ref:i,children:f&&(0,e.jsx)(D,{ref:l,...a})}),!f&&(0,e.jsx)(D,{...a,sticky:!0,width:d?.width})]})};O.displayName="HeaderLayout";const P=(0,g.ZP)(r.x)`
  width: ${({width:a})=>a?`${a/16}rem`:void 0};
  z-index: ${({theme:a})=>a.zIndices[1]};
`,D=s.forwardRef(({navigationAction:a,primaryAction:l,secondaryAction:d,subtitle:n,title:i,sticky:f,width:T,...j},o)=>{const m=typeof n=="string";return f?(0,e.jsx)(P,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:T,"data-strapi-header-sticky":!0,children:(0,e.jsxs)(v.k,{justifyContent:"space-between",children:[(0,e.jsxs)(v.k,{children:[a&&(0,e.jsx)(r.x,{paddingRight:3,children:a}),(0,e.jsxs)(r.x,{children:[(0,e.jsx)(M.Z,{variant:"beta",as:"h1",...j,children:i}),m?(0,e.jsx)(M.Z,{variant:"pi",textColor:"neutral600",children:n}):n]}),d?(0,e.jsx)(r.x,{paddingLeft:4,children:d}):null]}),(0,e.jsx)(v.k,{children:l?(0,e.jsx)(r.x,{paddingLeft:2,children:l}):void 0})]})}):(0,e.jsxs)(r.x,{ref:o,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:a?6:8,background:"neutral100","data-strapi-header":!0,children:[a?(0,e.jsx)(r.x,{paddingBottom:2,children:a}):null,(0,e.jsxs)(v.k,{justifyContent:"space-between",children:[(0,e.jsxs)(v.k,{minWidth:0,children:[(0,e.jsx)(M.Z,{as:"h1",variant:"alpha",...j,children:i}),d?(0,e.jsx)(r.x,{paddingLeft:4,children:d}):null]}),l]}),m?(0,e.jsx)(M.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:n}):n]})})},45349:(C,u,t)=>{t.d(u,{A:()=>p});var e=t(2790),s=t(88972),g=t(50781);const h=(0,s.ZP)(g.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:r})=>r?"auto 1fr":"1fr"};
`,y=(0,s.ZP)(g.x)`
  overflow-x: hidden;
`,p=({sideNav:r,children:v})=>(0,e.jsxs)(h,{hasSideNav:!!r,children:[r,(0,e.jsx)(y,{paddingBottom:10,children:v})]})},57713:(C,u,t)=>{t.d(u,{o:()=>y});var e=t(2790),s=t(88972),g=t(50781);const h=(0,s.ZP)(g.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,y=({labelledBy:p="main-content-title",...r})=>(0,e.jsx)(h,{"aria-labelledby":p,as:"main",id:"main-content",tabIndex:-1,...r})}}]);
