"use strict";(self.webpackChunkssa_reseller=self.webpackChunkssa_reseller||[]).push([[8503],{31346:(M,l,e)=>{e.r(l),e.d(l,{default:()=>K});var t=e(53547),n=e(57713),h=e(79371),p=e(19442),P=e(26789),x=e(50781),c=e(75878),f=e(78549),E=e(9370),y=e(61585),j=e(65184),A=e(28469),s=e(72178),o=e(8675),i=e(2953),a=e(71578),d=e(69554),u=e(86896),v=e(24780),O=e(88972);const m=(0,O.ZP)(v.E)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:g})=>g.colors.neutral600};
    }
  }
`;var W=e(55671),C=e(93742),L=e(48040);const w=L.Ry().shape({restrictedAccess:L.O7(),password:L.Z_().when("restrictedAccess",(g,R)=>g?R.required(s.I0.required):R)});var U=e(90306);const K=()=>{(0,s.go)();const{formatMessage:g}=(0,u.Z)(),{submitMutation:R,data:S,isLoading:$}=(0,U.Z)(),[T,b]=(0,t.useState)(!1),F=B=>{R.mutate({prefix:S?.prefix,body:B})};return t.createElement(n.o,null,$?t.createElement(s.dO,null,"Plugin settings are loading"):t.createElement(d.J9,{initialValues:{restrictedAccess:S?.documentationAccess.restrictedAccess||!1,password:""},onSubmit:F,validationSchema:w},({handleSubmit:B,values:D,handleChange:Q,errors:I,setFieldTouched:z,setFieldValue:Z,dirty:H})=>t.createElement(s.l0,{noValidate:!0,onSubmit:B},t.createElement(h.T,{title:g({id:(0,C.O)("plugin.name"),defaultMessage:"Documentation"}),subtitle:g({id:(0,C.O)("pages.SettingsPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:t.createElement(s.jW,{permissions:W._.update},t.createElement(p.z,{type:"submit",startIcon:t.createElement(o.Z,null),disabled:!H},g({id:(0,C.O)("pages.SettingsPage.Button.save"),defaultMessage:"Save"})))}),t.createElement(P.D,null,t.createElement(x.x,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},t.createElement(c.k,{direction:"column",alignItems:"stretch",gap:4},t.createElement(f.Z,{variant:"delta",as:"h2"},g({id:"global.settings",defaultMessage:"Settings"})),t.createElement(E.r,{gap:4},t.createElement(y.P,{col:6,s:12},t.createElement(j.s,{name:"restrictedAccess",label:g({id:(0,C.O)("pages.SettingsPage.toggle.label"),defaultMessage:"Restricted Access"}),hint:g({id:(0,C.O)("pages.SettingsPage.toggle.hint"),defaultMessage:"Make the documentation endpoint private"}),checked:D.restrictedAccess,onChange:()=>{D.restrictedAccess===!0&&(Z("password","",!1),z("password",!1,!1)),Z("restrictedAccess",!D.restrictedAccess,!1)},onLabel:"On",offLabel:"Off"})),D.restrictedAccess&&t.createElement(y.P,{col:6,s:12},t.createElement(A.o,{label:g({id:"global.password",defaultMessage:"Password"}),name:"password",placeholder:"**********",type:T?"text":"password",value:D.password,onChange:Q,error:I.password?g({id:I.password,defaultMessage:"Invalid value"}):null,endAction:t.createElement(m,{onClick:G=>{G.stopPropagation(),b(N=>!N)},label:g(T?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},T?t.createElement(i.Z,null):t.createElement(a.Z,null))})))))))))}},90306:(M,l,e)=>{e.d(l,{Z:()=>x});var t=e(72178),n=e(88767),h=e(49950),p=e(798);const x=()=>{const c=(0,n.useQueryClient)(),f=(0,t.lm)(),{isLoading:E,isError:y,data:j}=(0,n.useQuery)(["get-documentation",h.Z],async()=>{try{const{data:r}=await i(`/${h.Z}/getInfos`);return r}catch{return f({type:"warning",message:{id:"notification.error"}}),null}}),{del:A,post:s,put:o,get:i}=(0,t.kY)(),a=r=>{f({type:"warning",message:r.response.payload.message})},d=(r,m)=>{c.invalidateQueries("get-documentation"),f({type:r,message:{id:(0,p.Z)(m)}})},u=(0,n.useMutation)(({prefix:r,version:m})=>A(`${r}/deleteDoc/${m}`),{onSuccess:()=>d("info","notification.delete.success"),onError:r=>a(r)}),v=(0,n.useMutation)(({prefix:r,body:m})=>o(`${r}/updateSettings`,m),{onSuccess:()=>d("success","notification.update.success"),onError:a}),O=(0,n.useMutation)(({prefix:r,version:m})=>s(`${r}/regenerateDoc`,{version:m}),{onSuccess:()=>d("info","notification.generate.success"),onError:r=>a(r)});return{data:j,isLoading:E,isError:y,deleteMutation:u,submitMutation:v,regenerateDocMutation:O}}},798:(M,l,e)=>{e.d(l,{Z:()=>h});var t=e(49950);const h=p=>`${t.Z}.${p}`},93742:(M,l,e)=>{e.d(l,{O:()=>t.Z});var t=e(798)},26789:(M,l,e)=>{e.d(l,{D:()=>h});var t=e(2790),n=e(50781);const h=({children:p})=>(0,t.jsx)(n.x,{paddingLeft:10,paddingRight:10,children:p})},79371:(M,l,e)=>{e.d(l,{T:()=>y});var t=e(2790),n=e(53547),h=e(88972);const p=s=>{const o=(0,n.useRef)(null),[i,a]=(0,n.useState)(!0),d=([u])=>{a(u.isIntersecting)};return(0,n.useEffect)(()=>{const u=o.current,v=new IntersectionObserver(d,s);return u&&v.observe(o.current),()=>{u&&v.disconnect()}},[o,s]),[o,i]};var P=e(66300);const x=(s,o)=>{const i=(0,P.W)(o);(0,n.useLayoutEffect)(()=>{const a=new ResizeObserver(i);return Array.isArray(s)?s.forEach(d=>{d.current&&a.observe(d.current)}):s.current&&a.observe(s.current),()=>{a.disconnect()}},[s,i])};var c=e(50781),f=e(75878),E=e(78549);const y=s=>{const o=(0,n.useRef)(null),[i,a]=(0,n.useState)(null),[d,u]=p({root:null,rootMargin:"0px",threshold:0});return x(d,()=>{d.current&&a(d.current.getBoundingClientRect())}),(0,n.useEffect)(()=>{o.current&&a(o.current.getBoundingClientRect())},[o]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{height:i?.height},ref:d,children:u&&(0,t.jsx)(A,{ref:o,...s})}),!u&&(0,t.jsx)(A,{...s,sticky:!0,width:i?.width})]})};y.displayName="HeaderLayout";const j=(0,h.ZP)(c.x)`
  width: ${({width:s})=>s?`${s/16}rem`:void 0};
  z-index: ${({theme:s})=>s.zIndices[1]};
`,A=n.forwardRef(({navigationAction:s,primaryAction:o,secondaryAction:i,subtitle:a,title:d,sticky:u,width:v,...O},r)=>{const m=typeof a=="string";return u?(0,t.jsx)(j,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:v,"data-strapi-header-sticky":!0,children:(0,t.jsxs)(f.k,{justifyContent:"space-between",children:[(0,t.jsxs)(f.k,{children:[s&&(0,t.jsx)(c.x,{paddingRight:3,children:s}),(0,t.jsxs)(c.x,{children:[(0,t.jsx)(E.Z,{variant:"beta",as:"h1",...O,children:d}),m?(0,t.jsx)(E.Z,{variant:"pi",textColor:"neutral600",children:a}):a]}),i?(0,t.jsx)(c.x,{paddingLeft:4,children:i}):null]}),(0,t.jsx)(f.k,{children:o?(0,t.jsx)(c.x,{paddingLeft:2,children:o}):void 0})]})}):(0,t.jsxs)(c.x,{ref:r,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:s?6:8,background:"neutral100","data-strapi-header":!0,children:[s?(0,t.jsx)(c.x,{paddingBottom:2,children:s}):null,(0,t.jsxs)(f.k,{justifyContent:"space-between",children:[(0,t.jsxs)(f.k,{minWidth:0,children:[(0,t.jsx)(E.Z,{as:"h1",variant:"alpha",...O,children:d}),i?(0,t.jsx)(c.x,{paddingLeft:4,children:i}):null]}),o]}),m?(0,t.jsx)(E.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:a}):a]})})},57713:(M,l,e)=>{e.d(l,{o:()=>P});var t=e(2790),n=e(88972),h=e(50781);const p=(0,n.ZP)(h.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,P=({labelledBy:x="main-content-title",...c})=>(0,t.jsx)(p,{"aria-labelledby":x,as:"main",id:"main-content",tabIndex:-1,...c})}}]);
